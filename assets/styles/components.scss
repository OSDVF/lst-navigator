@use "sass:math";
@import "constants.scss";
@import "navigation.scss";
@import "tree.scss";

///
/// Rating stars
/// 
main .average-rating {
    &::before {
        //nuxt-rating has this class for some reason
        position: static;
        -webkit-text-stroke: 1px #000000d0;
    }

    &.null::before {
        background-image:
            linear-gradient(90deg, var(--active-color) var(--percent), transparent var(--percent)),
            /* tint image */
            linear-gradient(to right, rgba(0, 0, 0, 0.0), rgba(0, 0, 0, 0)),
            /* checkered effect */
            linear-gradient(to right, black 50%, white 50%),
            linear-gradient(to bottom, black 50%, white 50%);
        background-blend-mode: normal, normal, exclusion, saturation;
        background-size: auto, 5px 5px, 5px 5px, 5px 5px;
        background-clip: text;
    }
}

.backgroundLoading,
.navigation {
    bottom: 0;
    left: 0;
    right: 0;
    position: fixed;
    z-index: 2; // to also show above image fade overlay on /info
}

.networkError {
    flex-basis: 100%;
    flex-grow: 1;
    backdrop-filter: $blurred-background;
    background: rgba($link-background, 0.2);
    text-align: center;
    transition: transform .2s ease, margin-top .2s ease;
    $errorBannerHeight: 2.5rem;

    transform: translateY($errorBannerHeight);
    height: $errorBannerHeight;
    margin-top: -$errorBannerHeight;
    padding: math.div($errorBannerHeight, 5.0);

    &.visible {
        transform: translateY(0rem);
        margin-top: 0;
    }
}

.firebase-emulator-warning {
    pointer-events: none;
    opacity: .4;
    border: 0 !important
}

.tab {
    border-bottom: 3px solid #8787873d;

    &:focus {
        outline: none;
    }

    &.router-link-active {
        border-color: #0e6aff85;
    }
}

.iconify {
    vertical-align: middle
}

summary {
    cursor: pointer;
    background: transparent;
    transition: background .15s ease;
    padding: .5rem;

    &:hover,
    &:focus {
        background: #0001;
    }

    h4 {
        margin: 0;
        display: inline;
    }

    h5 {
        margin: 0;
    }
}

details.border {
    border: 1px solid #aaa;
    border-radius: 4px;
    padding: 0 0.5em 0;
    margin: .1rem;

    summary {
        padding: 0.5rem 0;

    }

    &[open] {
        padding: 0 0.5em .5em;

        summary {
            border-bottom: 1px solid #aaa;
            margin-bottom: 0.5em;
        }
    }

    &:not([open]) {
        summary {

            &:hover,
            &:focus {
                background: unset;
            }
        }

        &:hover,
        &:focus {
            background: #0001;
        }
    }
}



.text-danger {
    color: rgb(255, 94, 0);
}